<div
  class="absolute inset-0 flex min-w-0 flex-col overflow-y-auto"
  cdkScrollable
>
  <!-- Header -->
  <div
    class="flex-0 bg-card flex flex-col border-b p-6 dark:bg-transparent sm:flex-row sm:items-center sm:justify-between sm:px-10 sm:py-8"
  >
    <div class="min-w-0 flex-1">
      <!-- Breadcrumbs -->
      <div
        class="flex flex-wrap items-center space-x-1 font-medium leading-4 rtl:space-x-reverse"
      >
        <a class="text-primary-500 whitespace-nowrap"> Documentation </a>
        <mat-icon
          class="icon-size-4 text-secondary mat-icon-rtl-mirror"
          [svgIcon]="'heroicons_solid:chevron-right'"
        ></mat-icon>
        <a class="text-primary-500 whitespace-nowrap"> Components </a>
        <mat-icon
          class="icon-size-4 text-secondary mat-icon-rtl-mirror"
          [svgIcon]="'heroicons_solid:chevron-right'"
        ></mat-icon>
        <a class="text-secondary whitespace-nowrap"> Navigation </a>
      </div>
      <!-- Title -->
      <div class="mt-2">
        <h2
          class="truncate text-3xl font-extrabold leading-7 tracking-tight sm:leading-10 md:text-4xl"
        >
          Navigation
        </h2>
      </div>
    </div>
  </div>

  <!-- Main -->
  <div class="prose prose-sm max-w-3xl flex-auto p-6 sm:p-10">
    <p>
      <strong>msk-navigation</strong> is a set of components for creating
      navigations from data. It has two different variations;
      <strong>msk-vertical-navigation</strong> for creating vertical and
      <strong>msk-horizontal-navigation</strong> for creating horizontal
      navigations.
    </p>
    <p>
      The <em>vertical</em> navigation comes with built-in drawer that can be
      programmed in various ways to show the navigation in different styles and
      to control the mobile behavior.
    </p>
    <p>
      <strong>msk-navigation</strong> also provides a service which can be used
      to store navigation data as well as accessing navigation items with their
      ids from the navigation data. It's a utility service, you don't have to
      use it to make <strong>msk-navigation</strong> work.
    </p>
    <p>
      <strong>Exported as: </strong><code>mskVerticalNavigation</code> and
      <code>mskHorizontalNavigation</code>
    </p>

    <msk-alert [appearance]="'border'" [type]="'info'">
      msk-navigation designed to work with data and it must be supplied in
      certain format. If you want to create a navigation from an HTML structure,
      this component is not for you.
    </msk-alert>

    <h2>Module</h2>
    <textarea msk-highlight lang="typescript">
      import { MskVerticalNavigationModule } from '@msk/client/shared/ui/navigation';
      import { MskHorizontalNavigationModule } from '@msk/client/shared/ui/navigation';
    </textarea>

    <h2>Navigation item</h2>
    <p>
      This is the interface of the <em>Navigation item</em>. Both
      <em>vertical</em> and <em>horizontal</em> navigation items use the same
      interface:
    </p>
    <textarea msk-highlight lang="typescript">
      export interface MskNavigationItem
      {
        id?: string;
        title?: string;
        subtitle?: string;
        type:
          | 'aside'
          | 'basic'
          | 'collapsable'
          | 'divider'
          | 'group'
          | 'spacer';
        hidden?: (item: MskNavigationItem) => boolean;
        active?: boolean;
        disabled?: boolean;
        tooltip?: string;
        link?: string;
        fragment?: string;
        preserveFragment?: boolean;
        queryParams?: Params | null;
        queryParamsHandling?: QueryParamsHandling | null;
        externalLink?: boolean;
        target?:
          | '_blank'
          | '_self'
          | '_parent'
          | '_top'
          | string;
        exactMatch?: boolean;
        isActiveMatchOptions?: IsActiveMatchOptions;
        function?: (item: MskNavigationItem) => void;
        classes?: {
          title?: string;
          subtitle?: string;
          icon?: string;
          wrapper?: string;
        };
        icon?: string;
        badge?: {
          title?: string;
          classes?: string;
        };
        children?: MskNavigationItem[];
        meta?: any;
      }
    </textarea>
    <div class="bg-card mt-2 rounded px-6 py-3 shadow">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>id</div>
            </td>
            <td>
              Unique id of the navigation item. It's important to supply
              navigation items with ids if you want to access and modify them
              after generating the navigation.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>title</div>
            </td>
            <td>Title of the navigation item.</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>subtitle</div>
            </td>
            <td>Subtitle of the navigation item.</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>type</div>
            </td>
            <td>Type of the navigation item.</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>hidden</div>
            </td>
            <td>
              A function that returns a boolean. It gets one parameter which is
              the navigation item. Returning <code>true</code> from the function
              will hide the item and <code>false</code> will show it.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>active</div>
            </td>
            <td>Whether to force the navigation item to be active.</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>disabled</div>
            </td>
            <td>Whether the navigation item is disabled.</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>tooltip</div>
            </td>
            <td>
              Tooltip to show on item hover. Empty string will remove the
              tooltip.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>link</div>
            </td>
            <td>
              String representation of the item link. It can be either a
              <em>router</em> link or a normal, outgoing link.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>fragment</div>
            </td>
            <td>Sets the hash fragment for the URL.</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>preserveFragment</div>
            </td>
            <td>
              When true, preserves the URL fragment for the next navigation.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>queryParams</div>
            </td>
            <td>Sets query parameters to the URL.</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>queryParamsHandling</div>
            </td>
            <td>
              How to handle query parameters in the router link for the next
              navigation.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>externalLink</div>
            </td>
            <td>
              Whether the supplied link should be parsed as an external link. It
              must be <strong>true</strong> if you supply a normal, outgoing
              link in the <strong>link</strong> property.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>target</div>
            </td>
            <td>
              Sets the <em>target</em> attribute of the external, outgoing link.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>exactMatch</div>
            </td>
            <td>
              Sets the <em>exact</em> parameter on the
              <em>[routerLinkActiveOptions]</em>.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>isActiveMatchOptions</div>
            </td>
            <td>
              Sets the <em>isActiveMatchOptions</em> object on the
              <em>[routerLinkActiveOptions]</em>. If provided,
              <em>exactMatch</em> option will be ignored.
              <a
                href="https://angular.io/api/router/IsActiveMatchOptions"
                target="_blank"
                rel="noreferrer"
                >https://angular.io/api/router/IsActiveMatchOptions
              </a>
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>function</div>
            </td>
            <td>
              A function to run on navigation item click. It gets one parameter
              which is the navigation item. Supplying function will
              <strong>NOT</strong>
              override the link functionality of the navigation item, they will
              run in parallel.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>classes</div>
            </td>
            <td>
              Custom class names for the navigation item's specific parts.
              Multiple class names can be added by separating them with
              whitespace:
              <code>'class1 class2 class3'</code>
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>icon</div>
            </td>
            <td>Icon name for the navigation item.</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>badge.title</div>
            </td>
            <td>Title of the badge.</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>badge.classes</div>
            </td>
            <td>
              Classes to add to the badge. This can be used to customize the
              look of the badge.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>children</div>
            </td>
            <td>Array of navigation items to create child items.</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>meta</div>
            </td>
            <td>
              An object to hold custom data for the navigation item. It can be
              used for anything such as storing the access role and
              authorization of the navigation item.
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <h2>Vertical navigation</h2>
    <h3>Usage</h3>
    <p>Here's the basic usage of the <code>msk-vertical-navigation</code>:</p>
    <textarea msk-highlight lang="html">
      <msk-vertical-navigation
        [appearance]="'classic'"
        [autoCollapse]="true"
        [inner]="false"
        [mode]="isScreenSmall ? 'over' : 'side'"
        [name]="'startNavigation'"
        [navigation]="navigationData"
        [opened]="!isScreenSmall"
        [position]="'start'"
        [transparentOverlay]="false">
      </msk-vertical-navigation>
    </textarea>

    <h3>Properties</h3>
    <div class="bg-card rounded px-6 py-3 shadow">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Default</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Input()</div>
              <div>appearance: MskVerticalNavigationAppearance</div>
            </td>
            <td>
              Appearance of the navigation and its drawer. This is a string type
              and can be used to override the style of the navigation.
            </td>
            <td>
              <code class="whitespace-nowrap">classic</code>
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Input()</div>
              <div>autoCollapse: boolean</div>
            </td>
            <td>
              Whether expanding an expandable navigation item should close other
              expanded items excluding the active menu item's parent.
            </td>
            <td>
              <code class="whitespace-nowrap">true</code>
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Input()</div>
              <div>inner: boolean</div>
            </td>
            <td>
              Whether the inner mode is active. This mode allows using
              navigation without its drawer. Suitable for using it inside
              <strong>mat-sidenav</strong> or <strong>mat-drawer</strong>.
            </td>
            <td>
              <code class="whitespace-nowrap">false</code>
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Input()</div>
              <div>mode: MskVerticalNavigationMode</div>
            </td>
            <td>
              <strong>over</strong> mode can be used to place the drawer on top
              of the content and <strong>side</strong> mode can be used to push
              the content and place the drawer next to it.
            </td>
            <td>
              <code class="whitespace-nowrap">side</code>
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div class="mb-2">
                <code class="text-xs font-bold">REQUIRED</code>
              </div>
              <div>@Input()</div>
              <div>name: string</div>
            </td>
            <td>
              Unique name of the navigation. Required for navigation and its
              drawer to work correctly.
            </td>
            <td>-</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Input()</div>
              <div>navigation: MskNavigationItem[]</div>
            </td>
            <td>Array of navigation items to build the navigation from.</td>
            <td>-</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Input()</div>
              <div>opened: boolean</div>
            </td>
            <td>
              Whether the navigation drawer is opened. Only works with
              <strong>over</strong> mode.
            </td>
            <td>
              <code class="whitespace-nowrap">false</code>
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Input()</div>
              <div>position: MskVerticalNavigationPosition</div>
            </td>
            <td>Position of the drawer.</td>
            <td>
              <code class="whitespace-nowrap">start</code>
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Input()</div>
              <div>transparentOverlay: boolean</div>
            </td>
            <td>
              Whether the overlay of the drawer is transparent. Only works with
              <strong>over</strong> mode.
            </td>
            <td>
              <code class="whitespace-nowrap">false</code>
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Output()</div>
              <div>appearanceChanged: MskVerticalNavigationAppearance</div>
            </td>
            <td>
              An event emitted after the appearance of the navigation changed.
            </td>
            <td>-</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Output()</div>
              <div>modeChanged: MskVerticalNavigationMode</div>
            </td>
            <td>An event emitted after the mode of the navigation changed.</td>
            <td>-</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Output()</div>
              <div>openedChanged: boolean</div>
            </td>
            <td>
              An event emitted after the opened status of the navigation
              changed.
            </td>
            <td>-</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Output()</div>
              <div>positionChanged: MskVerticalNavigationPosition</div>
            </td>
            <td>
              An event emitted after the position of the navigation changed.
            </td>
            <td>-</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h3>Custom content hooks</h3>
    <p>
      Since the entire navigation will be created from the supplied navigation
      data, it's only possible to attach custom content inside the navigation
      drawer using custom content hooks. There are four of these hooks;
    </p>
    <div class="bg-card mt-4 rounded px-6 py-3 shadow">
      <table>
        <thead>
          <tr>
            <th>Hook</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>mskVerticalNavigationHeader</div>
            </td>
            <td>
              Fixed header hook. Anything put inside this hook will not scroll
              with drawer content.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>mskVerticalNavigationContentHeader</div>
            </td>
            <td>
              Header hook. Anything put inside this hook will be scrolled with
              the drawer content.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>mskVerticalNavigationFooter</div>
            </td>
            <td>
              Fixed footer hook. Anything put inside this hook will not scroll
              with drawer content.
            </td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>mskVerticalNavigationContentFooter</div>
            </td>
            <td>
              Footer hook. Anything put inside this hook will be scrolled with
              the drawer content.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <textarea msk-highlight lang="html">
      <!-- Navigation -->
      <msk-vertical-navigation>

          <div mskVerticalNavigationHeader>
            At the top, fixed into position.
          </div>

          <div mskVerticalNavigationContentHeader>
            At the top, scrolls with the content.
          </div>

          <div mskVerticalNavigationContentFooter>
            At the bottom, scrolls with the content.
          </div>

          <div mskVerticalNavigationFooter>
            At the bottom, fixed into position.
          </div>

      </msk-vertical-navigation>
    </textarea>

    <h3>Type aliases</h3>
    <textarea msk-highlight lang="typescript">
      export type MskVerticalNavigationAppearance =
        | 'default'
        | 'compact'
        | 'dense'
        | 'futuristic'
        | 'thin'
        | string;
    </textarea>
    <textarea msk-highlight lang="typescript">
      export type MskVerticalNavigationMode =
        | 'over'
        | 'side';
    </textarea>
    <textarea msk-highlight lang="typescript">
      export type MskVerticalNavigationPosition =
        | 'start'
        | 'end';
    </textarea>

    <h2>Horizontal navigation</h2>
    <h3>Usage</h3>
    <p>Here's the basic usage of the <code>msk-horizontal-navigation</code>:</p>
    <textarea msk-highlight lang="html">
      <msk-horizontal-navigation
        [name]="'topNavigation'"
        [navigation]="navigationData">
      </msk-horizontal-navigation>
    </textarea>

    <h3>Properties</h3>
    <div class="bg-card rounded px-6 py-3 shadow">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Default</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div class="mb-2">
                <code class="text-xs font-bold">REQUIRED</code>
              </div>
              <div>@Input()</div>
              <div>name: string</div>
            </td>
            <td>
              Unique name of the navigation. Required for navigation and its
              drawer to work correctly.
            </td>
            <td>-</td>
          </tr>
          <tr>
            <td class="text-md text-secondary font-mono">
              <div>@Input()</div>
              <div>navigation: MskNavigationItem[]</div>
            </td>
            <td>Array of navigation items to build the navigation from.</td>
            <td>-</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h2>Accessing navigation items</h2>
    <p>
      The <code>MskNavigationService</code> provides couple helper methods to
      access navigation items from the navigation data using their ids. This is
      especially useful if you want to change something from any item like
      updating its badge title, hiding or disabling it.
    </p>
    <div class="example-viewer">
      <div class="title">
        <h6>Example</h6>
      </div>

      <mat-tab-group [animationDuration]="'0ms'">
        <mat-tab label="Preview">
          <ng-template matTabContent>
            <button
              mat-flat-button
              [color]="'primary'"
              (click)="
                getNavItem('docs.components.navigation', 'mainNavigation')
              "
            >
              Get the Navigation item (See browser console)
            </button>
          </ng-template>
        </mat-tab>

        <mat-tab label="HTML">
          <textarea msk-highlight [lang]="'html'">
            <button
              mat-flat-button
              [color]="'primary'"
              (click)="getNavItem('docs.components.navigation', 'mainNavigation');">
              Get the Navigation item (See browser console)
            </button>
          </textarea>
        </mat-tab>

        <mat-tab label="Typescript">
          <textarea msk-highlight [lang]="'typescript'">

            /**
              * Get navigation item
              *
              * @param itemId
              * @param navigationName
              */
            getNavItem(itemId, navigationName): MskNavigationItem | null
            {
              // Get the component -> navigation data -> item
              const navComponent = this._mskNavigationService.getComponent<MskVerticalNavigationComponent>(navigationName);

              // Return if the navigation component does not exist
              if ( !navComponent )
              {
                  return null;
              }

              // Get the navigation item
              const navigation = navComponent.navigation;
              const item = this._mskNavigationService.getItem(itemId, navigation);
              console.log(item);
              return item;
            }

          </textarea>
        </mat-tab>
      </mat-tab-group>
    </div>

    <h2>Modifying navigation items</h2>
    <p>
      After accessing a navigation item, you can simply modify the object and
      then call the <code>refresh()</code> method on the
      <em>Navigation component</em> to apply the changes.
    </p>
    <div class="example-viewer">
      <div class="title">
        <h6>Change badge title</h6>
      </div>

      <mat-tab-group [animationDuration]="'0ms'">
        <mat-tab label="Preview">
          <ng-template matTabContent>
            <button
              mat-flat-button
              [color]="'primary'"
              (click)="
                updateBadgeTitle(
                  'docs.components.navigation',
                  'mainNavigation',
                  '100'
                )
              "
            >
              Update the 'Navigation' badge title
            </button>
          </ng-template>
        </mat-tab>

        <mat-tab label="HTML">
          <textarea msk-highlight [lang]="'html'">
            <button
              mat-flat-button
              [color]="'primary'"
              (click)="updateBadgeTitle('docs.components.navigation', 'mainNavigation', '100');">
              Update the 'Navigation' badge title
            </button>
          </textarea>
        </mat-tab>

        <mat-tab label="Typescript">
          <textarea msk-highlight [lang]="'typescript'">

            /**
              * Update badge title
              *
              * @param itemId
              * @param navigationName
              * @param title
              */
            updateBadgeTitle(
              itemId: string,
              navigationName: string,
              title: string,
            ): void {
              // Get the component -> navigation data -> item
              const navComponent =
                this._mskNavigationService.getComponent<MskVerticalNavigationComponent>(
                  navigationName,
                );

              // Return if the navigation component does not exist
              if (!navComponent) {
                return;
              }

              // Get the navigation item, update the badge and refresh the component
              const navigation = navComponent.navigation;
              const item = this._mskNavigationService.getItem(itemId, navigation);
              if (item) {
                item.badge = {
                  title,
                  classes: 'px-2 bg-primary-500 text-black rounded-full',
                };
              }
              navComponent.refresh();
            }

          </textarea>
        </mat-tab>
      </mat-tab-group>
    </div>
    <div class="example-viewer">
      <div class="title">
        <h6>Disable/Enable navigation item</h6>
      </div>

      <mat-tab-group [animationDuration]="'0ms'">
        <mat-tab label="Preview">
          <ng-template matTabContent>
            <button
              mat-flat-button
              [color]="'primary'"
              (click)="
                toggleDisabled('docs.components.navigation', 'mainNavigation')
              "
            >
              Toggle the disabled status of 'Navigation' item
            </button>
          </ng-template>
        </mat-tab>

        <mat-tab label="HTML">
          <textarea msk-highlight [lang]="'html'">
            <button
              mat-flat-button
              [color]="'primary'"
              (click)="toggleDisabled('docs.components.navigation', 'mainNavigation');">
              Toggle the disabled status of 'Navigation' item
            </button>
          </textarea>
        </mat-tab>

        <mat-tab label="Typescript">
          <textarea msk-highlight [lang]="'typescript'">

            /**
              * Toggle disabled status
              *
              * @param itemId
              * @param navigationName
              */
              toggleDisabled(itemId: string, navigationName: string): void {
                // Get the component -> navigation data -> item
                const navComponent =
                  this._mskNavigationService.getComponent<MskVerticalNavigationComponent>(
                    navigationName,
                  );

                // Return if the navigation component does not exist
                if (!navComponent) {
                  return;
                }

                // Get the navigation item, update the badge and refresh the component
                const navigation = navComponent.navigation;
                const item = this._mskNavigationService.getItem(itemId, navigation);
                if (item) {
                  item.disabled = !item.disabled;
                }
                navComponent.refresh();
              }

          </textarea>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
