<!-- Loading bar -->
<msk-loading-bar></msk-loading-bar>

<!-- Navigation -->
<ng-container *ngIf="isScreenSmall">
  <msk-vertical-navigation
    class="dark bg-gray-900 print:hidden"
    [mode]="'over'"
    [name]="'mainNavigation'"
    [navigation]="navigation.default"
    [opened]="false"
  >
    <!-- Navigation header hook -->
    <ng-container mskVerticalNavigationContentHeader>
      <!-- Logo -->
      <div class="flex h-20 items-center px-8 pt-6">
        <img class="w-10" src="assets/images/logo/logo.svg" />
        <label class="mx-4 text-2xl font-black">MSK</label>
      </div>
    </ng-container>
  </msk-vertical-navigation>
</ng-container>

<!-- Wrapper -->
<div
  class="flex w-full min-w-0 flex-auto flex-col items-center bg-gray-200 dark:bg-card"
>
  <!-- Header -->
  <div
    class="relative z-49 flex h-16 w-full flex-0 flex-col justify-center overflow-hidden shadow dark:shadow-none print:hidden sm:h-20 md:h-36"
  >
    <!-- Top bar -->
    <div
      class="dark relative flex w-full flex-auto justify-center bg-gray-800 px-4 dark:bg-gray-900 md:px-8"
    >
      <div
        class="flex h-16 w-full max-w-360 items-center justify-between sm:h-20"
      >
        <!-- Logo -->
        <ng-container *ngIf="!isScreenSmall">
          <div class="flex items-center">
            <img
              class="w-10"
              src="assets/images/logo/logo.svg"
              alt="Logo image"
            />
            <label class="mx-4 text-2xl font-black">MSK</label>
          </div>
        </ng-container>
        <!-- Navigation toggle button -->
        <ng-container *ngIf="isScreenSmall">
          <button mat-icon-button (click)="toggleNavigation('mainNavigation')">
            <mat-icon>menu</mat-icon>
          </button>
        </ng-container>
        <!-- Components -->
        <div class="flex items-center px-2">
          <languages class="mx-0.5 md:mx-1"></languages>
          <msk-fullscreen
            class="mx-0.5 hidden md:mx-1 md:block"
          ></msk-fullscreen>
          <notifications class="mx-0.5 md:mx-1"></notifications>
          <user class="mx-0.5 md:mx-1"></user>
        </div>
      </div>
    </div>
    <!-- Bottom bar -->
    <ng-container *ngIf="!isScreenSmall">
      <div
        class="bg-card flex flex-auto justify-center px-4 dark:bg-gray-700 md:px-8"
      >
        <div class="relative flex h-16 w-full max-w-360 items-center">
          <msk-horizontal-navigation
            class="-mx-4"
            [name]="'mainNavigation'"
            [navigation]="navigation.horizontal"
            [dir]="layoutDirection"
          ></msk-horizontal-navigation>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- Content -->
  <div class="flex w-full flex-auto justify-center sm:p-6 md:p-8">
    <div
      class="bg-default flex w-full flex-auto flex-col sm:max-w-360 sm:overflow-hidden sm:rounded-lg sm:shadow-lg"
    >
      <!-- *ngIf="true" hack is required here for router-outlet to work correctly.
                 Otherwise, layout changes won't be registered and the view won't be updated! -->
      <router-outlet *ngIf="true"></router-outlet>
    </div>
  </div>
</div>
