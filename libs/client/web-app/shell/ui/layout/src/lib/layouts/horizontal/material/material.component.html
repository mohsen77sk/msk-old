<!-- Loading bar -->
<msk-loading-bar></msk-loading-bar>

<!-- Navigation -->
<ng-container *ngIf="isScreenSmall">
  <msk-vertical-navigation
    class="dark bg-gray-900 print:hidden"
    [mode]="'over'"
    [name]="'mainNavigation'"
    [navigation]="navigation"
    [opened]="false"
  >
    <!-- Navigation header hook -->
    <ng-container mskVerticalNavigationContentHeader>
      <!-- Logo -->
      <div class="flex h-20 items-center px-8 pt-6">
        <img class="w-10" src="assets/images/logo/logo.svg" />
        <label class="mx-4 text-2xl font-black">MSK</label>
      </div>
    </ng-container>
  </msk-vertical-navigation>
</ng-container>

<!-- Wrapper -->
<div
  class="dark:bg-card flex w-full min-w-0 flex-auto flex-col items-center bg-gray-200"
>
  <!-- Header -->
  <div
    class="z-49 bg-primary-700 relative flex w-full justify-center overflow-hidden print:hidden"
  >
    <div
      class="bg-card max-w-360 w-full overflow-hidden border-b sm:m-8 sm:mb-0 sm:rounded-t-xl sm:py-3 sm:shadow-2xl md:mx-8 md:mt-12 md:pb-3 md:pt-4"
    >
      <!-- Top bar -->
      <div
        class="flex-0 relative flex h-16 flex-auto items-center justify-between px-4 md:px-6"
      >
        <!-- Logo -->
        <ng-container *ngIf="!isScreenSmall">
          <div class="mx-2 flex items-center">
            <img
              class="w-10"
              src="assets/images/logo/logo.svg"
              alt="Logo image"
            />
            <label class="mx-4 text-2xl font-black">MSK</label>
          </div>
        </ng-container>
        <!-- Navigation toggle button -->
        <ng-container *ngIf="isScreenSmall">
          <button mat-icon-button (click)="toggleNavigation('mainNavigation')">
            <mat-icon svgIcon="heroicons_outline:bars-3"></mat-icon>
          </button>
        </ng-container>
        <!-- Components -->
        <div
          class="flex items-center space-x-0.5 px-2 rtl:space-x-reverse md:space-x-1"
        >
          <languages></languages>
          <msk-fullscreen
            class="hidden md:block"
            *transloco="let t"
            [tooltip]="t('layout.toggle-fullscreen')"
          ></msk-fullscreen>
          <notifications></notifications>
          <messages></messages>
          <user></user>
        </div>
      </div>
      <!-- Bottom bar -->
      <ng-container *ngIf="!isScreenSmall">
        <div class="flex-0 relative flex h-16 flex-auto items-center px-4">
          <msk-horizontal-navigation
            [name]="'mainNavigation'"
            [navigation]="navigation"
          ></msk-horizontal-navigation>
        </div>
      </ng-container>
    </div>
  </div>

  <!-- Content -->
  <div class="flex w-full flex-auto justify-center sm:px-8">
    <div
      class="bg-default sm:max-w-360 flex w-full flex-auto flex-col sm:overflow-hidden sm:shadow-xl"
    >
      <!-- *ngIf="true" hack is required here for router-outlet to work correctly.
                 Otherwise, layout changes won't be registered and the view won't be updated! -->
      <router-outlet *ngIf="true"></router-outlet>
    </div>
  </div>
</div>
